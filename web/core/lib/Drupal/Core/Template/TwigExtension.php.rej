--- lib/Drupal/Core/Template/TwigExtension.php
+++ lib/Drupal/Core/Template/TwigExtension.php
@@ -107,7 +107,7 @@ public function getFunctions() {
       new TwigFunction('url', [$this, 'getUrl'], ['is_safe_callback' => [$this, 'isUrlGenerationSafe']]),
       new TwigFunction('path', [$this, 'getPath'], ['is_safe_callback' => [$this, 'isUrlGenerationSafe']]),
       new TwigFunction('link', [$this, 'getLink']),
-      new TwigFunction('file_url', [$this->fileUrlGenerator, 'generateString']),
+      new TwigFunction('file_url', [$this, 'getFileUrl']),
       new TwigFunction('attach_library', [$this, 'attachLibrary']),
       new TwigFunction('active_theme_path', [$this, 'getActiveThemePath']),
       new TwigFunction('active_theme', [$this, 'getActiveTheme']),
@@ -272,6 +272,22 @@ public function getLink($text, $url, $attributes = []) {
     return $build;
   }
 
+  /**
+   * Gets the file URL.
+   *
+   * @param string|null $uri
+   *   The file URI.
+   *
+   * @return string
+   *   The file URL.
+   */
+  public function getFileUrl(?string $uri) {
+    if (is_null($uri)) {
+      return NULL;
+    }
+    return $this->fileUrlGenerator->generateString($uri);
+  }
+
   /**
    * Gets the name of the active theme.
    *
